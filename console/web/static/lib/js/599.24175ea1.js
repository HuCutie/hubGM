"use strict";(self["webpackChunkvue3_template"]=self["webpackChunkvue3_template"]||[]).push([[599],{491:function(e,l,t){t.d(l,{K5:function(){return r},T8:function(){return n},p:function(){return o}});var a=t(6569);const n=e=>a.d.request({url:"/gm/account/list",method:"get",params:e}),o=(e,l)=>a.d.request({url:`/gm/account/${e}/recharge`,method:"post",data:l}),r=e=>a.d.request({url:`/gm/account/${e}/reset_create_charac`,method:"post"})},2507:function(e,l,t){t.d(l,{Z:function(){return w}});var a=t(7477),n=(t(7658),t(3396)),o=t(7139),r=t(4274),i=t(2483);const u=e=>((0,n.dD)("data-v-221fb25f"),e=e(),(0,n.Cn)(),e),c={class:"pull-left"},s=u((()=>(0,n._)("span",{class:"icon-toinstlist"},null,-1)));var p=(0,n.aZ)({__name:"PanelTitle",props:{isLine:r.i.bool.def(!1),title:r.i.string.def("标题"),router:Object,backTitle:r.i.string.def("")},setup(e){const l=e,t=(0,i.tv)(),a=()=>{l.router?t.push({...l.router}):t.go(-1)};return(l,t)=>{const r=(0,n.up)("el-button"),i=(0,n.up)("el-row");return(0,n.wg)(),(0,n.j4)(i,null,{default:(0,n.w5)((()=>[(0,n._)("div",{class:(0,o.C_)(["console-title clearfix",e.isLine?"bline":""]),style:{"min-height":"50px"}},[(0,n._)("div",c,[(0,n._)("h4",null,(0,o.zw)(e.title),1),Boolean(e.backTitle)?((0,n.wg)(),(0,n.j4)(r,{key:0,size:"small",class:"btn-small",onClick:a},{default:(0,n.w5)((()=>[s,(0,n._)("span",null,(0,o.zw)(e.backTitle),1)])),_:1})):(0,n.kq)("",!0),(0,n.WI)(l.$slots,"button")])],2)])),_:3})}}}),d=t(89);const m=(0,d.Z)(p,[["__scopeId","data-v-221fb25f"]]);var _=m;const f=(0,a.nz)(_);var w=f},4466:function(e,l,t){t.d(l,{F:function(){return n}});var a=t(2655);const n=e=>a.T.confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})},7477:function(e,l,t){t.d(l,{nz:function(){return a}});const a=(e,l)=>{if(e.install=t=>{for(const a of[e,...Object.values(l??{})])t.component(a.name,a)},l)for(const[t,a]of Object.entries(l))e[t]=a;return e}},5599:function(e,l,t){t.r(l),t.d(l,{default:function(){return z}});var a=t(3396),n=t(4870),o=t(2507),r=t(7139),i=t(491),u=t(6881),c=t(9242);const s=(0,a._)("div",{class:"div_title"},[(0,a._)("span",null,"基本信息")],-1),p={style:{"margin-bottom":"30px"}},d=(0,a._)("div",{class:"div_title"},[(0,a._)("span",null,"充值项目")],-1),m={class:"dialog-footer"};var _=(0,a.aZ)({__name:"RechargeDialog",emits:["reloadAccount"],setup(e,{expose:l,emit:t}){const o=(0,n.qj)({visible:!1,title:"充值"}),_=(0,n.iH)(),f=[{label:"D币",value:"cera"},{label:"D点",value:"cera_point"}],w=(0,n.qj)({cera_point:500,cera:100,cera_option:"cera"});let g={uid:0,cera_point:0,cera:0};const b=(0,n.qj)({cera:[{type:"integer",min:0,message:"D币不能少于0",trigger:"blur"}],cera_point:[{type:"integer",min:0,message:"D点不能少于0",trigger:"blur"}]}),v=async()=>{const e={cera_point:g.cera_point+w.cera_point,cera:g.cera+w.cera,cera_option:w.cera_option};try{await(0,i.p)(g.uid,e),t("reloadAccount"),o.visible=!1,(0,u.PE)("充值成功")}catch(l){}},W=e=>{g=e,o.visible=!0};return l({showRechargeDialog:W}),(e,l)=>{const t=(0,a.up)("el-row"),i=(0,a.up)("el-descriptions-item"),u=(0,a.up)("el-descriptions"),W=(0,a.up)("el-option"),k=(0,a.up)("el-select"),y=(0,a.up)("el-form-item"),h=(0,a.up)("el-input"),U=(0,a.up)("el-form"),D=(0,a.up)("el-col"),z=(0,a.up)("el-button"),C=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(C,{modelValue:o.visible,"onUpdate:modelValue":l[4]||(l[4]=e=>o.visible=e),title:o.title,width:"600px","close-on-press-escape":!1,"close-on-click-modal":!1},{footer:(0,a.w5)((()=>[(0,a._)("span",m,[(0,a.Wm)(z,{onClick:l[3]||(l[3]=e=>o.visible=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("取 消")])),_:1}),(0,a.Wm)(z,{type:"primary",onClick:v},{default:(0,a.w5)((()=>[(0,a.Uk)("确 定")])),_:1})])])),default:(0,a.w5)((()=>[(0,a.Wm)(t,null,{default:(0,a.w5)((()=>[s])),_:1}),(0,a._)("div",p,[(0,a.Wm)(u,{class:"margin-top",column:3,border:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{label:"账号ID"},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,r.zw)((0,n.SU)(g).uid),1)])),_:1}),(0,a.Wm)(i,{label:"D币"},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,r.zw)((0,n.SU)(g).cera),1)])),_:1}),(0,a.Wm)(i,{label:"D点"},{default:(0,a.w5)((()=>[(0,a._)("span",null,(0,r.zw)((0,n.SU)(g).cera_point),1)])),_:1})])),_:1})]),(0,a.Wm)(t,null,{default:(0,a.w5)((()=>[d])),_:1}),(0,a.Wm)(t,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D,{span:22},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{model:w,rules:b,ref_key:"formRef",ref:_,"label-width":"100px"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{label:"充值类型",prop:"cera_option"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{modelValue:w.cera_option,"onUpdate:modelValue":l[0]||(l[0]=e=>w.cera_option=e)},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(f,(e=>(0,a.Wm)(W,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),(0,a.wy)((0,a.Wm)(y,{label:"D币",prop:"cera"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:w.cera,"onUpdate:modelValue":l[1]||(l[1]=e=>w.cera=e),modelModifiers:{number:!0}},null,8,["modelValue"])])),_:1},512),[[c.F8,"cera"===w.cera_option]]),(0,a.wy)((0,a.Wm)(y,{label:"D点",prop:"cera_point"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:w.cera_point,"onUpdate:modelValue":l[2]||(l[2]=e=>w.cera_point=e),modelModifiers:{number:!0}},null,8,["modelValue"])])),_:1},512),[[c.F8,"cera_point"===w.cera_option]])])),_:1},8,["model","rules"])])),_:1})])),_:1})])),_:1},8,["modelValue","title"])])}}});const f=_;var w=f,g=t(4466),b=(0,a.aZ)({__name:"table",setup(e,{expose:l}){const t=(0,n.qj)({data:[],total:0,loading:!1}),o=(0,n.qj)({page:1,per_page:10});let c=(0,n.qj)({uid:""});const s=(0,n.iH)(null),p=async()=>{t.loading=!0;const e={...c,...o},l=await(0,i.T8)(e);t.data=l.items,t.total=l.total,t.loading=!1},d=e=>{o.per_page=e,p()},m=e=>{o.page=e,p()},_=e=>{c=e,p()};function f(e){try{return String(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")}catch(l){return e}}const b=()=>{(0,u.KU)("未实现")},v=()=>{(0,u.KU)("未实现")},W=()=>{(0,u.KU)("未实现")},k=e=>{s.value.showRechargeDialog(e)},y=async e=>{try{await(0,g.F)("是否重置 创建角色 限制？"),await(0,i.K5)(e.uid),(0,u.PE)("重置成功！")}catch(l){}};return p(),l({setParams:_}),(e,l)=>{const i=(0,a.up)("el-button"),u=(0,a.up)("el-row"),c=(0,a.up)("el-table-column"),_=(0,a.up)("el-table"),g=(0,a.up)("el-pagination"),h=(0,a.Q2)("loading");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(i,{type:"primary",onClick:b},{default:(0,a.w5)((()=>[(0,a.Uk)("注册账号")])),_:1})])),_:1}),(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.wy)(((0,a.wg)(),(0,a.j4)(_,{data:t.data,ref:"tableRef",border:""},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{prop:"uid",label:"UID",width:"180"}),(0,a.Wm)(c,{prop:"account_name",label:"账号名",width:"200"}),(0,a.Wm)(c,{prop:"roles",label:"创建角色总数",width:"120",align:"center"}),(0,a.Wm)(c,{prop:"cera_point",label:"D点",width:"180"},{default:(0,a.w5)((e=>[(0,a._)("span",null,(0,r.zw)(f(e.row.cera_point)),1)])),_:1}),(0,a.Wm)(c,{prop:"cera",label:"D币",width:"180"},{default:(0,a.w5)((e=>[(0,a._)("span",null,(0,r.zw)(f(e.row.cera)),1)])),_:1}),(0,a.Wm)(c,{prop:"money",label:"账号金库存款",width:"180"},{default:(0,a.w5)((e=>[(0,a._)("span",null,(0,r.zw)(f(e.row.money)),1)])),_:1}),(0,a.Wm)(c,{label:"操作",align:"right"},{default:(0,a.w5)((e=>[(0,a.Wm)(i,{type:"primary",link:"",onClick:l=>k(e.row),size:"small"},{default:(0,a.w5)((()=>[(0,a.Uk)("充值")])),_:2},1032,["onClick"]),(0,a.Wm)(i,{type:"primary",link:"",onClick:l=>y(e.row),size:"small"},{default:(0,a.w5)((()=>[(0,a.Uk)("重置创建角色")])),_:2},1032,["onClick"]),(0,a.Wm)(i,{type:"primary",link:"",onClick:v,size:"small"},{default:(0,a.w5)((()=>[(0,a.Uk)("修改密码")])),_:1}),(0,a.Wm)(i,{type:"primary",link:"",onClick:W,size:"small"},{default:(0,a.w5)((()=>[(0,a.Uk)("删除")])),_:1})])),_:1})])),_:1},8,["data"])),[[h,t.loading]])])),_:1}),(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g,{"current-page":o.page,"page-sizes":[10,20,30,40,50],"page-size":o.per_page,total:t.total,background:"",layout:"total, sizes, prev, pager, next, jumper",onSizeChange:d,onCurrentChange:m},null,8,["current-page","page-size","total"])])),_:1}),(0,a.Wm)((0,n.SU)(w),{ref_key:"rechargeDialogRef",ref:s,onReloadAccount:p},null,512)])}}});const v=b;var W=v,k=(0,a.aZ)({__name:"filter",emits:["setParams"],setup(e,{emit:l}){const t=(0,n.iH)(),o=(0,n.qj)({uid:""}),r=()=>{l("setParams",o)},i=()=>{t.value.resetFields(),l("setParams",{})};return(e,l)=>{const n=(0,a.up)("el-input"),u=(0,a.up)("el-form-item"),s=(0,a.up)("el-button"),p=(0,a.up)("el-form");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(p,{inline:!0,model:o,ref_key:"formRef",ref:t,"label-width":"50px"},{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(u,{label:"uid:",prop:"uid"},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{modelValue:o.uid,"onUpdate:modelValue":l[0]||(l[0]=e=>o.uid=e),clearable:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,{type:"primary",onClick:r},{default:(0,a.w5)((()=>[(0,a.Uk)("查询")])),_:1}),(0,a.Wm)(s,{onClick:(0,c.iM)(i,["prevent"])},{default:(0,a.w5)((()=>[(0,a.Uk)("重置")])),_:1},8,["onClick"])])),_:1})])])),_:1},8,["model"])])}}});const y=k;var h=y,U=(0,a.aZ)({__name:"index",setup(e){const l=(0,n.iH)(null),t=e=>{l.value.setParams(e)};return(e,r)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)((0,n.SU)(o.Z),{title:"账号管理"}),(0,a.Wm)((0,n.SU)(h),{onSetParams:t}),(0,a.Wm)((0,n.SU)(W),{ref_key:"accountTableRef",ref:l},null,512)]))}});const D=U;var z=D}}]);