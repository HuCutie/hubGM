"use strict";(self["webpackChunkvue3_template"]=self["webpackChunkvue3_template"]||[]).push([[76],{491:function(e,t,a){a.d(t,{K5:function(){return r},T8:function(){return n},p:function(){return u}});var l=a(6569);const n=e=>l.d.request({url:"/gm/account/list",method:"get",params:e}),u=(e,t)=>l.d.request({url:`/gm/account/${e}/recharge`,method:"post",data:t}),r=e=>l.d.request({url:`/gm/account/${e}/reset_create_charac`,method:"post"})},9456:function(e,t,a){a.d(t,{F:function(){return n}});var l=a(6569);const n=e=>l.d.request({url:`/gm/account/${e}/roles`,method:"get"})},2870:function(e,t,a){a.d(t,{Z:function(){return g}});var l=a(7477),n=a(3396),u=a(7139);const r={class:"bot",style:{height:"20px","margin-bottom":"13px",background:"#fff"}},d={class:"bline-dotted"},o={class:"category-index"},i={class:"category-name"},s={style:{padding:"10px 30px","margin-bottom":"30px"}};function c(e,t,a,l,c,p){const m=(0,n.up)("el-col"),f=(0,n.up)("el-row");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(f,{class:(0,u.C_)(a.isLast?"last-step":"")},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{span:24},{default:(0,n.w5)((()=>[(0,n._)("div",r,[(0,n._)("div",d,[(0,n._)("div",o,(0,u.zw)(a.num),1),(0,n._)("div",i,(0,u.zw)(a.title),1)])])])),_:1})])),_:1},8,["class"]),(0,n._)("div",null,[(0,n._)("div",s,[(0,n.WI)(e.$slots,"default",{},void 0,!0)])])])}var p={name:"PanelStep",props:{num:{type:[String,Number],required:!0,default:1},title:{type:String},isLast:{type:Boolean,default:!1}}},m=a(89);const f=(0,m.Z)(p,[["render",c],["__scopeId","data-v-af9f6fb6"]]);var _=f;const w=(0,l.nz)(_);var g=w},1578:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var l=a(3396),n=a(4870),u=a(2507),r=a(2870),d=a(7139),o=a(5134),i=(0,l.aZ)({__name:"RolesTable",props:{data:{type:Array,required:!0,default:()=>[]},loading:{type:Boolean,required:!0,default:!1}},setup(e){return(t,a)=>{const u=(0,l.up)("el-table-column"),r=(0,l.up)("el-table"),i=(0,l.Q2)("loading");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.wy)(((0,l.wg)(),(0,l.j4)(r,{data:e.data,ref:"tableRef",border:""},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{prop:"charac_no",label:"角色编号",width:"120"}),(0,l.Wm)(u,{prop:"charac_name",label:"角色名称",width:"180"}),(0,l.Wm)(u,{prop:"money",label:"金币",width:"180"},{default:(0,l.w5)((e=>[(0,l._)("span",null,(0,d.zw)((0,n.SU)(o.T4)(e.row.money)),1)])),_:1}),(0,l.Wm)(u,{prop:"create_time",label:"创建时间",width:"180"},{default:(0,l.w5)((e=>[(0,l._)("span",null,(0,d.zw)((0,n.SU)(o.vc)(e.row.create_time)),1)])),_:1}),(0,l.Wm)(u,{prop:"lev",label:"等级"}),(0,l.Wm)(u,{prop:"m_id",label:"uid",width:"120"})])),_:1},8,["data"])),[[i,e.loading]])])}}});const s=i;var c=s,p=a(612),m=a(9456);const f={class:"tc-step-border"},_={class:"l"};var w=(0,l.aZ)({__name:"index",setup(e){const t=(0,n.qj)({data:[],loading:!1}),a=async e=>{try{t.loading=!0,t.data=await(0,m.F)(e),t.loading=!1}catch(a){t.loading=!1}};return(e,d)=>((0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)((0,n.SU)(u.Z),{title:"角色管理"}),(0,l._)("div",f,[(0,l._)("div",_,[(0,l.Wm)((0,n.SU)(r.Z),{num:"1",title:"账号选择"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(p.Z),{onSetUid:a})])),_:1}),(0,l.Wm)((0,n.SU)(r.Z),{num:"2",title:"角色信息","is-last":""},{default:(0,l.w5)((()=>[(0,l.Wm)((0,n.SU)(c),{data:t.data,loading:t.loading},null,8,["data","loading"])])),_:1})])])]))}});const g=w;var v=g},612:function(e,t,a){a.d(t,{Z:function(){return p}});var l=a(3396),n=a(7139),u=a(4870),r=a(491),d=a(7192);const o={style:{float:"left"}},i={style:{float:"right",color:"var(--el-text-color-secondary)","font-size":"13px"}};var s=(0,l.aZ)({__name:"SelectAccount",emits:["setUid"],setup(e,{emit:t}){const a=(0,u.iH)(),s=(0,u.qj)({uid:null}),c=(0,u.qj)({uid:[{required:!0,message:"请选择账号",trigger:"blur"}]}),p=(0,u.qj)({data:[]}),m=(0,u.iH)(!1),f=async()=>{m.value=!0,p.data=await(0,r.T8)({}),m.value=!1},_=async()=>{const e=await(0,d.Gu)(a);e&&t("setUid",s.uid)};return f(),(e,t)=>{const u=(0,l.up)("el-option"),r=(0,l.up)("el-select"),d=(0,l.up)("el-form-item"),f=(0,l.up)("el-button"),w=(0,l.up)("el-form");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(w,{model:s,rules:c,ref_key:"formRef",ref:a,"label-width":"100px"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{label:"账号ID",prop:"uid"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{modelValue:s.uid,"onUpdate:modelValue":t[0]||(t[0]=e=>s.uid=e),filterable:"",clearable:"",placeholder:"选择账号id",loading:m.value,"loading-text":"正在加载账号"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(p.data,(e=>((0,l.wg)(),(0,l.j4)(u,{key:e.uid,label:e.uid,value:e.uid},{default:(0,l.w5)((()=>[(0,l._)("span",o,(0,n.zw)(e.uid),1),(0,l._)("span",i," 角色数:"+(0,n.zw)(e.roles),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue","loading"])])),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(f,{type:"primary",onClick:_,size:"small"},{default:(0,l.w5)((()=>[(0,l.Uk)("查询")])),_:1})])),_:1})])),_:1},8,["model","rules"])])}}});const c=s;var p=c}}]);